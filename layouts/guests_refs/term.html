{{- define "main" -}}

     <section class="hero is-fullheight is-default is-bold">

        {{- partial "navbar.html" . -}}

        {{- $homepage   := .Site.Params.homepage -}}
        {{- $title      := index $homepage "title" -}}
        {{- $subtitle   := index $homepage "subtitle" -}}
        {{- $image      := index $homepage "image" -}}
        {{ with partialCached "func/GetGuestData" .Data.Term .Data.Term }}
        <section class="section is-medium">
    <main>
      <div class="post-header">
        <h1>
          {{ .GuestName }}
          <br />
          {{ if .IsPublished}}
          Recorded on
          {{ else }}
          Scheduled for
          {{end}}
          <span id="dt" class="formatdate">{{ .DateTimeAsString }}</span>
        </h1>
    </div>
    <div align="start" class="content">
      {{ if .GuestBio }}
      <p>
        {{ safeHTML .GuestBio }}
      </p>
      {{ end }}
      {{ if .YouTubeVideoId }}
      <h2 id="the-show">
        Live Stream Recording
      </h2>
      <div style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden">
          <iframe src="https://www.youtube.com/embed/{{ .YouTubeVideoId }}"
          style="position:absolute;top:0;left:0;width:100%;height:100%;border:0" allowfullscreen="" title="YouTube Video">
        </iframe>
      </div>
      <br>
      {{ end }}
      {{ if .HaveAudio}}
      <p>
        You can also listen to the audio directly:
      </p>
      <audio controls="">
        <source src="https://podcasts.coffeeandopensource.com/interviews/{{ replace .GuestName " " "-" }}.mp3">
      </audio>
      {{ end }}
      <br />
      <br />
      {{ if .Socials }}
      <p>
          You can find {{ .GuestName }} on the following sites:
        </p>
        <ul>
        {{ range $value := .Socials }}
          {{ range $elem_key, $elem_val := $value }}
            <li>
              <a href="{{ $elem_val }}" target="_blank">{{ $elem_key }}</a>
            </li>
          {{ end }}
        {{ end }}
      </ul>
      {{ end }}
      <br />
      {{ if or (.SpotifyLink) (.GPLink) (.APLink) }}
        <p>
          The interview is also available as a podcast, available almost anywhere you can listen to one.
        </p>
        <h2 id="listen">
          Podcast Platforms
        </h2>
        {{ if .SpotifyLink }}
        <p>
          <a href="{{ .SpotifyLink }}"></a>
        </p>
          <a href="{{ .SpotifyLink }}">
            <figure>
              <img src="/images/spotify.png" width="200px">
          </figure>
          </a>
        <br>
        {{ end }}
        {{ if .GPLink }}
        <a href="{{ .GPLink}}">
          <figure>
            <img src="/images/google-podcasts.png" width="200px">
          </figure>
        </a>
        <br>
        {{ end }}
        {{ if .APLink }}
        <a href="{{ .APLink }}">
          <figure>
            <img src="/images/apple-podcasts.png" width="200px">
          </figure>
        </a>
        <br>
        {{ end }}

        <p>
          There is also a <a href="https://isaacl.dev/podcast-rss">podcast RSS feed</a>, so you can add it to your podcast player of choice.
        </p>
        <br />
        <br />
        {{ end }}
        <h1>Thanks for watching or listening!</h1>
      </div>
    </main>
{{end }}
    {{- partial "footer.html" . -}}
    <!-- Back To Top Button -->
    <div id="backtotop">
      <a href="#">
        <i class="fas fa-angle-up" aria-hidden="true"></i>
      </a>
    </div>
{{- end -}}